# 時刻入力テキストボックス改善 - 要件定義

## 概要
現在のドロップダウン形式の時刻選択を、より直感的なテキストボックス形式に変更し、UXを向上させる。

## 現状の問題
- ドロップダウン形式では30分刻みの選択肢しか利用できない
- 時刻選択に複数のクリックが必要で操作が煩雑
- 自由な時刻入力ができない

## 機能要件

### 1. 入力形式の切り替え
- **フォーカスが外れている時**: `hh:mm` 形式での表示（例: `14:30`）
- **フォーカスしている時**: `hhmm` 形式での数値入力（例: `1430`）

### 2. 入力バリデーション
- 4桁の数値入力を受け付ける
- 時間は `00-23` の範囲で検証
- 分は `00-59` の範囲で検証
- 無効な入力の場合はエラー状態を表示

### 3. 自動フォーマット機能
- フォーカスが外れた時、有効な4桁入力を `hh:mm` 形式に自動変換
- 例: `930` → `09:30`、`1430` → `14:30`

### 4. 既存機能との互換性
- 現在の `TimeDropdown` コンポーネントと同じプロパティインターフェースを維持
- `value` は `hh:mm` 形式の文字列
- `onChange` コールバックで `hh:mm` 形式を返す

## 非機能要件

### 1. ユーザビリティ
- キーボードナビゲーションをサポート
- 視覚的なフィードバック（フォーカス状態、エラー状態）を提供
- レスポンシブデザインに対応

### 2. アクセシビリティ
- スクリーンリーダー対応
- キーボード操作のみでの利用が可能
- 適切なラベルとaria属性の設定

### 3. パフォーマンス
- リアルタイムバリデーション
- 不要な再レンダリングを避ける最適化

## 制約条件
- 既存の `TimeDropdown` コンポーネントを使用している箇所の動作に影響を与えない
- 現在の UI ライブラリ（Tailwind CSS、shadcn/ui）を使用
- TypeScript での型安全性を維持

## 成功基準
1. 4桁の数値入力で時刻が設定できる
2. フォーカス状態によって表示形式が適切に切り替わる
3. 無効な入力に対して分かりやすいエラーメッセージを表示
4. 既存のコンポーネント利用箇所で正常に動作する
5. キーボードのみでの操作が可能